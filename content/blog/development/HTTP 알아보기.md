---
title: 'HTTP 알아보기 1'
date: 2020-5-26 22:00:13
category: 'development'
thumbnail: './images/hello.png'
draft: false
---

## HTTP (HyperText Transfer Protocol) 란?

HTTP는 WWW(World Wide Web) 상에서 정보를 주고받을 수 있는 프로토콜입니다.
웹에서는 클라이언트와 서버 간에 데이터를 주고 받기 위한 방식으로 HTTP 프로토콜을 사용하고 있습니다.

클라이언트와 서버들은 개별적인 메시지 교환에 의해 통신합니다. 보통 브라우저인 클라이언트에 의해 전송되는 메시지를 `요청(Request)`이라 부르며, 이에 대해 서버에서 응답으로 전송해주는 메시지를 `응답(Response)`라고 부릅니다.

클라이언트가 HTTP를 통해 서버로부터 웹페이지나 정보를 요청하면 서버는 이 요청에 응답하여 필요한 정보를 클라이언트에게 전달합니다. 그러면 웹 브라우저와 같은 클라이언트는 이를 모니터와 같은 출력 장치를 통해 유저에게 화면을 나타내줍니다.

![HTTP를 통한 요청과 응답 이미지](https://mdn.mozillademos.org/files/13677/Fetching_a_page.png)

## HTTP의 특징

HTTP 프로토콜은 상태가 없는 (`stateless`) 프로토콜입니다. 데이터를 주고 받기 위한 각각의 데이터 요청이 서로 독립적으로 관리가 됩니다. (이전 데이터 요청과 다음 데이터 요청이 서로 관련이 없습니다.)

이러한 특징 덕에 서버는 세션과 같은 별도의 추가 정보를 관리하지 않아도 되고, 다수의 요청 처리 및 서버의 부하를 줄일 수 있는 성능상의 이점이 있습니다.

그러나 일관된 방식으로 사용자가 페이지와 상호작용하길 원할 때 문제가 됩니다.
예를 들어 클라이언트가 과거에 로그인을 성공하더라도 로그인 정보를 유지할 수가 없습니다.
하지만 HTTP는 `쿠키(Cookie)`를 이용하여 상태가 있는 세션을 만들도록 해줍니다.

### 쿠키(Cookie)

쿠키는 클라이언트와 서버의 상태 정보를 담고 있는 정보 조각입니다.
로그인을 예로 들자면, 클라이언트가 로그인에 성공하면, 사버는 로그인 정보를 자신의 데이터베이스에 저장하고 있는 동일한 값을 쿠키 형태로 클라이언트에 내보냅니다.
클라이언트는 다음 번 요청 때 cookie를 서버에 보내는데, 서버는 cookie 값으로 자신의 데이터베이스를 조회해서 로그인 여부를 확인할 수 있습니다. (세션을 유지할 수 있게 됩니다.)

### 세션

서버가 해당 서버로 접근(request)한 클라이언트를 식별하는 방법입니다.

## URI (Uniform Resource Identifiers)

URI는 자원의 위치를 알려주기 위한 프로토콜입니다. HTTP와는 독립된 다른 체계입니다. 클라이언트는 웹상에서 URI를 이용하여 자원(리소스)을 찾습니다. URI의 가장 일반적인 형식은 URL입니다.

### URL (Uniform Resource Locator)

서버의 자원을 요청하기 위해 입력하는 영문주소입니다.
URL 구조는 아래 이미지를 참고합니다.

![URL 구조](./images/url-structure.png)

## HTTP 메서드

메서드는 서버에 요청을 하게 될 때 요청의 종류를 알려주기 위해 사용됩니다.

- **GET**: 자원의 정보를 요청합니다. (SELECT)
- **POST**: 새로운 자원을 생성합니다. (INSERT)
- **PUT**: 자원을 변경합니다. (UPDATE))
- **DELETE**: 자원을 삭제합니다. (DERETE)
- **HEAD**: HTTP 헤더 정보를 요청합니다. GET과 비슷하나 Response Body를 반환하지 않습니다.
- **OPTION**: 서버 옵션들을 확인하기 위해 요청합니다. CORS에서 사용합니다.
- **TRACE**: 클라이언트의 요청을 그대로 반환합니다. 서버 상태를 확인하기 위한 목적으로 주로 사용됩니다.

※ 때에 따라서 POST 메서드로 PUT, DELETE 동작도 수행할 수 있습니다.

## HTTP 상태 코드

HTTP 상태 코드는 서버에서 설정해주는 응답(Response) 정보입니다.
프론트 엔드 개발자는 이 상태 코드로 에러 처리를 할 수 있습니다.

### 2xx 성공

200번대의 상태 코드는 대부분 성공을 의미합니다.

- **200**: GET 요청에 대한 성공
- **204**: No Content. 성공했으나 응답 본문에 데이터가 없음
- **205**: Reset Content. 성공했으나 클라이언트의 화면을 새로 고침하도록 권고
- **206**: Partial Conent. 성공했으나 일부 범위의 데이터만 반환

### 3xx 리다이렉션

300번대의 상태 코드는 대부분 클라이언트가 이전 주소로 데이터를 요청하여 서버에서 새 URL로 유도를 하는 경우입니다. </br>
ex) 로그인을 성공하고 나서 대문 페이지로 보낸다거나, 다운로드 페이지로 보내는 등의 용도

- **301**: Moved Permanently, 요청한 자원이 새 URL에 존재
- **303**: See Other, 요청한 자원이 임시 주소에 존재
- **304**: Not Modified, 요청한 자원이 변경되지 않았으므로 클라이언트에서 캐싱된 자원을 사용하도록 권고. ETag와 같은 정보를 활용하여 변경 여부를 확인

### 4xx 클라이언트 에러

400번대의 대부분 클라이언트의 요청이 잘못된 경우입니다.

- **400**: Bad Request, 잘못된 요청
- **401**: Unauthorized, 권한 없이 요청. Authorization 헤더가 잘못된 경우
- **403**: Forbidden, 서버에서 해당 자원에 대해 접근 금지
- **405**: Method Not Allowed, 허용되지 않은 요청 메서드
- **409**: Conflict, 최신 자원이 아닌데 업데이트하는 경우. ex) 파일 업로드 시 버전 충돌

### 5xx 서버 에러

500번대 상태 코드는 서버 쪽에서 오류가 난 경우입니다.

- **501**: Not Implemented, 요청한 동작에 대해 서버가 수행할 수 없는 경우
- **503**: Service Unavailable, 서버가 과부하 또는 유지 보수로 내려간 경우

## 참조문서

<https://developer.mozilla.org/ko/docs/Web/HTTP/Overview>

<https://joshua1988.github.io/web-development/http-part1/>

<https://www.joinc.co.kr/w/Site/Network_Programing/AdvancedComm/HTTP>
